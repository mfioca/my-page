{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Layout from '../components/layout.js';\nimport AsyncGet from './tvtest/async_get';\nimport SearchBar from './tvtest/search_bar';\nimport TVMazeList from './tvtest/tvmaze_list';\nimport TVMazeDetail from './tvtest/tvmaze_detail';\nimport _ from 'lodash';\nvar ROOT_URL = 'http://api.tvmaze.com';\n\nvar TvTestApp =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(TvTestApp, _Component);\n\n  function TvTestApp(props) {\n    var _this;\n\n    _classCallCheck(this, TvTestApp);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(TvTestApp).call(this, props));\n    _this.state = {\n      series: [],\n      selectedSerie: null\n    };\n\n    _this.serieSearch(' ');\n\n    return _this;\n  }\n\n  _createClass(TvTestApp, [{\n    key: \"serieSearch\",\n    value: function serieSearch(query) {\n      var _this2 = this;\n\n      AsyncGet(\"\".concat(ROOT_URL, \"/search/shows?q=\").concat(query)).then(function (series) {\n        _this2.setState({\n          series: series,\n          selectedSerie: series[0]\n        });\n      }, function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var videoSearch = _.debounce(function (query) {\n        _this3.serieSearch(query);\n      }, 300);\n\n      return React.createElement(Layout, null, React.createElement(\"h1\", {\n        className: \"center\"\n      }, \"trying to create a searchable page like my tvpage\"), React.createElement(\"div\", null, React.createElement(SearchBar, {\n        onSearchQueryChanged: videoSearch\n      }), React.createElement(TVMazeDetail, {\n        serie: this.state.selectedSerie\n      }), React.createElement(TVMazeList, {\n        onSerieSelect: function onSerieSelect(selectedSerie) {\n          return _this3.setState({\n            selectedSerie: selectedSerie\n          });\n        },\n        series: this.state.series\n      })));\n    }\n  }]);\n\n  return TvTestApp;\n}(Component);\n\n;\nexport default TvTestApp;","map":null,"metadata":{},"sourceType":"module"}