{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport { Form, Label, Input } from 'reactstrap';\nimport Layout from '../components/layout';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { NewTabLink, LeftFlexWrapDiv, TvMazePage, TvMazeCard } from '../components/customComponents';\nconst noimage = '/static/images/no-img.png';\nvar Search = '';\n\nclass Searchbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.enterSearch = this.enterSearch.bind(this);\n  } //handles setting state of search value to render tvmaze json api\n  //sets variable search value to state\n\n\n  enterSearch(event) {\n    this.setState({\n      value: event.target.value\n    });\n    Search = event.target.value;\n  }\n\n  render() {\n    return __jsx(Form, {\n      inline: true,\n      className: \"justify-content-center\"\n    }, __jsx(Label, {\n      className: \"mr-sm-2\"\n    }, \"TV Show search by Name:\"), __jsx(Input, {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.enterSearch //Prevent enter key submit\n      ,\n      onKeyPress: event => {\n        if (event.which === 13\n        /* Enter */\n        ) {\n            event.preventDefault();\n          }\n      }\n    }), __jsx(Link, {\n      href: \"/tvpage\"\n    }, __jsx(\"a\", {\n      className: \"btn btn-dark ml-4\"\n    }, \"Click Submit\")));\n  }\n\n}\n\nconst TvPage = props => __jsx(Layout, null, __jsx(\"h1\", {\n  className: \"text-center\"\n}, \"the below content has been imported from\", __jsx(NewTabLink, {\n  Link: \"https://www.tvmaze.com\",\n  Title: \"TvMaze.com\"\n}, \"Tvmaze.com\")), __jsx(Searchbar, null), __jsx(TvMazePage, null, __jsx(\"h1\", null, \"Results for: \", Search), __jsx(LeftFlexWrapDiv, null, props.shows.map(show => __jsx(\"div\", {\n  className: \"p-3\",\n  key: show.id\n}, __jsx(TvMazeCard, {\n  CardStyle: {\n    width: '250px'\n  },\n  Title: __jsx(\"p\", null, __jsx(\"b\", null, __jsx(\"u\", null, show.name))),\n  ImgSrc: show.image ? show.image.medium : noimage,\n  ImgAlt: \"image\",\n  Link: __jsx(\"a\", {\n    href: `/tvpost?id=${show.id}`,\n    className: \"btn btn-dark w-100\"\n  }, \"Select\")\n}))))));\n\nTvPage.getInitialProps = async function () {\n  //tvmaze search api link.  pulls the json info based on the search variable\n  //entered by user in the search field.\n  const res = await fetch('https://api.tvmaze.com/search/shows?q=' + Search);\n  const data = await res.json();\n  console.log(`Show data fetched. Count: ${data.length}`);\n  return {\n    shows: data.map(entry => entry.show)\n  };\n};\n\nexport default TvPage;","map":null,"metadata":{},"sourceType":"module"}