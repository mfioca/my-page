{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mark\\\\Desktop\\\\newtest\\\\my-page\\\\pages\\\\tvpage.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { Form, Label, Input } from 'reactstrap';\nimport Layout from '../components/layout';\nimport Link from 'next/link';\nimport fetch from 'isomorphic-unfetch';\nimport { NewTabLink, LeftFlexWrapDiv, TvMazePage, TvMazeCard } from '../components/customComponents';\nconst noimage = '/static/images/no-img.png';\nvar Search = '';\n\nclass Searchbar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      value: ''\n    };\n    this.enterSearch = this.enterSearch.bind(this);\n  } //handles setting state of search value to render tvmaze json api\n  //sets variable search value to state\n\n\n  enterSearch(event) {\n    this.setState({\n      value: event.target.value\n    });\n    Search = event.target.value;\n  }\n\n  render() {\n    return __jsx(Form, {\n      inline: true,\n      className: \"justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27\n      },\n      __self: this\n    }, __jsx(Label, {\n      className: \"mr-sm-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \"TV Show search by Name:\"), __jsx(Input, {\n      type: \"text\",\n      value: this.state.value,\n      onChange: this.enterSearch //Prevent enter key submit\n      ,\n      onKeyPress: event => {\n        if (event.which === 13\n        /* Enter */\n        ) {\n            event.preventDefault();\n          }\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29\n      },\n      __self: this\n    }), __jsx(Link, {\n      href: \"/tvpage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, __jsx(\"a\", {\n      className: \"btn btn-dark ml-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Click Submit\")));\n  }\n\n}\n\nconst TvPage = props => __jsx(Layout, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 53\n  },\n  __self: this\n}, __jsx(\"h1\", {\n  className: \"text-center\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 54\n  },\n  __self: this\n}, \"the below content has been imported from\", __jsx(NewTabLink, {\n  Link: \"https://www.tvmaze.com\",\n  Title: \"TvMaze.com\",\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 55\n  },\n  __self: this\n}, \"Tvmaze.com\")), __jsx(Searchbar, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 61\n  },\n  __self: this\n}), __jsx(TvMazePage, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 62\n  },\n  __self: this\n}, __jsx(\"h1\", {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 63\n  },\n  __self: this\n}, \"Results for: \", Search), __jsx(LeftFlexWrapDiv, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64\n  },\n  __self: this\n}, props.shows.map(show => __jsx(\"div\", {\n  className: \"p-3\",\n  key: show.id,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 66\n  },\n  __self: this\n}, __jsx(TvMazeCard, {\n  CardStyle: {\n    width: '250px'\n  },\n  Title: __jsx(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, __jsx(\"u\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, show.name))),\n  ImgSrc: show.image ? show.image.medium : noimage,\n  ImgAlt: \"image\",\n  Link: __jsx(\"a\", {\n    href: `/tvpost?id=${show.id}`,\n    className: \"btn btn-dark w-100\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, \"Select\"),\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 67\n  },\n  __self: this\n}))))));\n\nTvPage.getInitialProps = async function () {\n  //tvmaze search api link.  pulls the json info based on the search variable\n  //entered by user in the search field.\n  const res = await fetch('https://api.tvmaze.com/search/shows?q=' + Search);\n  const data = await res.json();\n  console.log(`Show data fetched. Count: ${data.length}`);\n  return {\n    shows: data.map(entry => entry.show)\n  };\n};\n\nexport default TvPage;","map":{"version":3,"sources":["C:\\Users\\Mark\\Desktop\\newtest\\my-page\\pages\\tvpage.js"],"names":["React","Form","Label","Input","Layout","Link","fetch","NewTabLink","LeftFlexWrapDiv","TvMazePage","TvMazeCard","noimage","Search","Searchbar","Component","constructor","props","state","value","enterSearch","bind","event","setState","target","render","which","preventDefault","TvPage","shows","map","show","id","width","name","image","medium","getInitialProps","res","data","json","console","log","length","entry"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { Form, Label, Input } from 'reactstrap'\r\nimport Layout from '../components/layout'\r\nimport Link from 'next/link'\r\nimport fetch from 'isomorphic-unfetch'\r\nimport { NewTabLink, LeftFlexWrapDiv, TvMazePage, TvMazeCard } from '../components/customComponents'\r\n\r\n\r\nconst noimage = '/static/images/no-img.png';\r\nvar Search = '';\r\n\r\nclass Searchbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {value: ''};\r\n    this.enterSearch = this.enterSearch.bind(this);\r\n  }\r\n  //handles setting state of search value to render tvmaze json api\r\n  //sets variable search value to state\r\n  enterSearch(event) {\r\n    this.setState({value: event.target.value});\r\n    Search = (event.target.value);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Form inline className=\"justify-content-center\">\r\n        <Label className=\"mr-sm-2\">TV Show search by Name:</Label>\r\n        <Input\r\n          type=\"text\"\r\n          value={this.state.value} \r\n          onChange={this.enterSearch} \r\n          //Prevent enter key submit\r\n          onKeyPress={event => {\r\n            if (event.which === 13 /* Enter */) {\r\n              event.preventDefault();\r\n            }\r\n          }}\r\n        />\r\n        {/*due to get initial props async function is only called on page load\r\n          disguised a page link as a search button to call value of search for \r\n          the await fetch api call.*/}\r\n        <Link href=\"/tvpage\">\r\n          <a className=\"btn btn-dark ml-4\">Click Submit</a>\r\n        </Link>\r\n      </Form>\r\n    );\r\n  }\r\n}\r\n\r\nconst TvPage = props => (\r\n  \r\n  <Layout>\r\n    <h1 className=\"text-center\">the below content has been imported from \r\n      <NewTabLink\r\n        Link=\"https://www.tvmaze.com\"\r\n        Title=\"TvMaze.com\">\r\n          Tvmaze.com\r\n      </NewTabLink>\r\n    </h1>\r\n    <Searchbar />\r\n    <TvMazePage>\r\n      <h1>Results for: {Search}</h1>\r\n      <LeftFlexWrapDiv>\r\n        {props.shows.map(show => (\r\n          <div className=\"p-3\" key={show.id}>\r\n            <TvMazeCard\r\n              CardStyle={{width: '250px'}}\r\n              Title={\r\n                <p><b><u>{show.name}</u></b></p>\r\n              }\r\n              ImgSrc={show.image ? show.image.medium : noimage}\r\n              ImgAlt=\"image\"\r\n              Link={\r\n                  <a href={`/tvpost?id=${show.id}`} className=\"btn btn-dark w-100\">Select</a>\r\n                \r\n              }\r\n            />\r\n          </div>\r\n        ))}\r\n      </LeftFlexWrapDiv>\r\n    </TvMazePage>\r\n  </Layout>\r\n);\r\n\r\nTvPage.getInitialProps = async function() {\r\n  //tvmaze search api link.  pulls the json info based on the search variable\r\n  //entered by user in the search field.\r\n  const res = await fetch('https://api.tvmaze.com/search/shows?q=' + Search);\r\n  const data = await res.json();\r\n\r\n  console.log(`Show data fetched. Count: ${data.length}`);\r\n\r\n  return {\r\n    shows: data.map(entry => entry.show)\r\n  };\r\n};\r\n\r\nexport default TvPage;\r\n"]},"metadata":{},"sourceType":"module"}