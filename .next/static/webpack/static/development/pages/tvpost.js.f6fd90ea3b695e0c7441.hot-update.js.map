{"version":3,"file":"static/webpack/static\\development\\pages\\tvpost.js.f6fd90ea3b695e0c7441.hot-update.js","sources":["webpack:///./pages/tvpost.js"],"sourcesContent":["import Layout from '../components/layout';\r\nimport Layout2 from './tv_info/MyLayout';\r\nimport fetch from 'isomorphic-unfetch';\r\nimport Link from 'next/link'\r\nimport { Button, Form, FormGroup, Label, Input, Card, CardImg, CardBody, CardTitle } from 'reactstrap'\r\nconst noimage = '/static/images/no-img.png';\r\n\r\nvar Search = '';\r\n\r\n\r\n\r\nclass Searchbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {value: ''};\r\n    this.enterSearch = this.enterSearch.bind(this);\r\n  }\r\n  //handles setting state of search value to render tvmaze json api\r\n  //sets variable search value to state\r\n  enterSearch(event) {\r\n    this.setState({value: event.target.value});\r\n    Search = (event.target.value);\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"d-flex justify-content-center \">\r\n        {/* currentl does not have on submit or entery key function to push link to \r\n          page for api call to render*/}\r\n        <Form inline>\r\n          <FormGroup >\r\n            <Label className=\"mr-sm-2\">TV Show search by Name:</Label>\r\n            <Input\r\n              type=\"text\"\r\n              value={this.state.value} \r\n              onChange={this.enterSearch} \r\n              //Prevent enter key submit\r\n              onKeyPress={event => {\r\n                if (event.which === 13 /* Enter */) {\r\n                  event.preventDefault();\r\n                }\r\n              }}\r\n            />\r\n            \r\n          </FormGroup>\r\n          {/*due to get initial props async function is only called on page load\r\n            disguised a page link as a search button to call value of search for \r\n            the await fetch api call.*/}\r\n          <Button className=\"ml-4 btn-dark\">\r\n            <Link href=\"/tvpage\">\r\n              <a className=\"btn-dark w-100\">Click Submit</a>\r\n            </Link>\r\n          </Button>\r\n        </Form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst tvPost = props => (\r\n  <Layout>\r\n    <h1 className=\"text-center\">the below content has been imported from <a href=\"https://www.tvmaze.com\" target=\"_blank\" rel=\"noopener noreferrer\">TVmaze.com</a></h1>\r\n    <Searchbar />\r\n    <Layout2>\r\n      <div >\r\n        <h1>{props.show.name}</h1>\r\n        <p><b>Type:</b> {props.show.type ? props.show.type : 'no data'}</p>\r\n        <p><b>Premiered:</b> {props.show.premiered ? props.show.premiered : 'no data'}</p>\r\n        <p><b>status:</b> {props.show.status ? props.show.status : 'no data'}</p>\r\n        <p><b>Rating:</b> {props.show.rating.average ? props.show.average : 'no data'}</p>\r\n        <p>\r\n          {/* since tvmaze api json has genre as an imbedded array,\r\n            pulls the data in genres in a key map to list all entries*/}\r\n          <b>Genre:</b> &nbsp;\r\n          {props.show.genres.map(genre => (\r\n            <span key={props.show.genres}>\r\n            {genre} &nbsp;\r\n            </span>\r\n          ))}\r\n        </p>\r\n        <img src={props.show.image ? props.show.image.medium : noimage} alt=\"no image\"/>\r\n        <p>{props.show.summary.replace(/<[/]?p>/g, '').replace(/<[/]?b>/g, '').replace(/<[/]?i>/g, '')}</p>\r\n        <p>Link: \r\n          <a href={props.show.url}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              title={props.show.url}>\r\n          {props.show.url ? props.show.url : 'null'}\r\n          </a>\r\n        </p>\r\n      </div>\r\n    </Layout2>\r\n  </Layout>\r\n);\r\n\r\ntvPost.getInitialProps = async function(context) {\r\n  const { id } = context.query;\r\n  //pules tvmaze api json based on selected show on the search page.\r\n  const res = await fetch(`https://api.tvmaze.com/shows/${id}`);\r\n  const show = await res.json();\r\n  \r\n  console.log(show);\r\n\r\n  console.log(`Fetched show: ${show.name}`);\r\n\r\n  return { show };\r\n};\r\n\r\nexport default tvPost;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAHA;AAIA;AAEA;AACA;AACA;;;AADA;AACA;AAAA;AAAA;AACA;AACA;;;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AACA;AACA;AACA;AATA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AA9CA;AACA;AAgDA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAxBA;AACA;AAmCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AACA;AADA;AAIA;AAEA;AAEA;AARA;AAUA;AAAA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAYA;;;;A","sourceRoot":""}